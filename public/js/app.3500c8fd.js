(function(e){function t(t){for(var r,o,a=t[0],s=t[1],i=t[2],p=0,v=[];p<a.length;p++)o=a[p],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&v.push(c[o][0]),c[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(v.length)v.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==c[s]&&(r=!1)}r&&(u.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},c={app:0},u=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var i=0;i<a.length;i++)t(a[i]);var l=s;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},2:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("a026"),c=n("8c4f"),u=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Channels")])])}],a={},s=a,i=n("2877"),l=Object(i["a"])(s,u,o,!1,null,null,null),p=l.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("router-link",{attrs:{to:"/settings/plex"}},[e._v("Plex Settings")]),n("router-view")],1)},d=[],f={components:{}},h=f,m=Object(i["a"])(h,v,d,!1,null,null,null),x=m.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("PlexSettings")]),n("PlexAccounts"),n("PlexLibrary")],1)},g=[],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",[e._v("Plex Accounts")]),n("button",{on:{click:function(t){return e.AddAccount()}}},[e._v("Add Plex Account")]),n("span",[e._v(e._s(e.errors))]),n("ul",e._l(e.accounts,(function(t,r){return n("li",{key:r},[n("b",[e._v("ID:")]),e._v(" "+e._s(t.id)+"\n            "),n("b",[e._v("Title:")]),e._v(" "+e._s(t.title)+"\n            "),n("b",[e._v("Token:")]),e._v(" "+e._s(t.token)+"\n            "),n("button",{on:{click:function(n){return e.DeleteAccount(t.id)}}},[e._v("Delete")])])})),0)])},w=[],P=(n("96cf"),n("3b8d")),k=n("bc3a"),A=n.n(k),y=n("2dbb"),S=n.n(y);function O(){var e={Accept:"application/json","X-Plex-Product":"PseudoTV","X-Plex-Version":"Plex OAuth","X-Plex-Client-Identifier":"rg14zekk3pa5zp4safjwaa8z","X-Plex-Model":"Plex OAuth"};return new Promise(function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(n,r){var c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A()({method:"POST",url:"https://plex.tv/api/v2/pins?strong=true",headers:e});case 3:return c=t.sent,window.open("https://app.plex.tv/auth/#!?clientID=rg14zekk3pa5zp4safjwaa8z&context[device][version]=Plex OAuth&context[device][model]=Plex OAuth&code=".concat(c.data.code,"&context[device][product]=Plex Web")),t.next=7,$(c.data.id,e);case 7:return e["X-Plex-Token"]=t.sent,t.next=10,A()({method:"GET",url:"https://plex.tv/users/account",headers:e});case 10:u=t.sent,S.a.parseString(u.data,(function(e,t){n(t.user.$)})),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),r(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}())}function j(){return A()({method:"GET",url:"/api/plex/accounts"}).then((function(e){return e.data}))}function T(e,t){return A()({method:"POST",url:"/api/plex/accounts",data:{title:e,token:t}}).then((function(e){return e.data}))}function R(e){return A()({method:"DELETE",url:"/api/plex/accounts/".concat(e)}).then((function(e){return e.data}))}function E(e){return A()({method:"GET",url:"/api/plex/".concat(e,"}/servers")}).then((function(e){return e.data}))}function C(e,t){return A()({method:"GET",url:"/api/plex/sections",params:{token:e.token,uri:t.uri}}).then((function(e){return e.data}))}var I={SignIn:O,getPlexAccounts:j,postPlexAccount:T,deletePlexAccount:R,getPlexServers:E,getSections:C};function $(e,t){return new Promise((function(n,r){var c=10,u=setInterval(Object(P["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!(c<=0)){o.next=4;break}return clearInterval(u),r("Plex Sign-in Timed Out."),o.abrupt("return");case 4:return o.prev=4,o.next=7,z(e,t);case 7:a=o.sent,null!==a&&(clearInterval(u),n(a)),o.next=15;break;case 11:o.prev=11,o.t0=o["catch"](4),clearInterval(u),r("Failed to communicate with Plex authentication servers");case 15:c-=2;case 16:case"end":return o.stop()}}),o,null,[[4,11]])}))),2e3)}))}function z(e,t){return A()({method:"GET",url:"https://plex.tv/api/v2/pins/".concat(e),headers:t}).then((function(e){return e.data.authToken}))}var D={data:function(){return{accounts:[],errors:null,selected:""}},created:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.getPlexAccounts();case 3:this.accounts=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),this.errors=e.t0,setTimeout((function(){t.errors=null}),1e4);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),methods:{AddAccount:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.errors=null,e.prev=1,e.next=4,I.SignIn();case 4:return t=e.sent,e.next=7,I.postPlexAccount(t.title,t.authToken);case 7:this.accounts=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),this.errors=e.t0,setTimeout((function(){n.errors=null}),1e4);case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}(),DeleteAccount:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.deletePlexAccount(t);case 3:this.accounts=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),this.errors=e.t0,setTimeout((function(){n.errors=null}),1e4);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()}},G=D,M=Object(i["a"])(G,b,w,!1,null,null,null),X=M.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Plex Library")]),e.selectedAccount?n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedAccount,expression:"selectedAccount"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedAccount=t.target.multiple?n:n[0]},function(t){return e.SelectAccount()}]}},e._l(e.accounts,(function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v("\n                "+e._s(t.title)+"\n            ")])})),0):e._e(),e.selectedAccount?n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedServer,expression:"selectedServer"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedServer=t.target.multiple?n:n[0]},function(t){return e.SelectServer()}]}},e._l(e.selectedAccount.servers,(function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v("\n                "+e._s(t.name)+"\n            ")])})),0):e._e(),e.selectedServer?n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedConnection,expression:"selectedConnection"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedConnection=t.target.multiple?n:n[0]},function(t){return e.SelectConnection()}]}},e._l(e.selectedServer.connections,(function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v("\n                "+e._s(t.uri)+"\n            ")])})),0):e._e(),e.sections?n("ul",e._l(e.sections,(function(t){return n("li",{key:t},[e._v("\n                "+e._s(t.title)+" - "+e._s(t)+"\n                "),t.nested?n("ul",e._l(t.nested,(function(t){return n("li",{key:t},[e._v("\n                        "+e._s(t.title)+"\n                    ")])})),0):e._e()])})),0):e._e()])},N=[],V={created:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I.getPlexAccounts();case 2:this.accounts=e.sent,this.accounts.length>0&&(this.selectedAccount=this.accounts[0],this.SelectAccount());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{accounts:[],selectedAccount:null,selectedServer:null,selectedConnection:null,sections:null}},methods:{SelectAccount:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.selectedAccount.servers.length>0)){e.next=3;break}return this.selectedServer=this.selectedAccount.servers[0],e.abrupt("return",this.SelectServer());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),SelectServer:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.selectedServer.connections.length>0)){e.next=3;break}return this.selectedConnection=this.selectedServer.connections[0],e.abrupt("return",this.SelectConnection());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),SelectConnection:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I.getSections(this.selectedAccount,this.selectedConnection);case 2:this.sections=e.sent,console.log(this.sections);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},H=V,J=Object(i["a"])(H,L,N,!1,null,null,null),F=J.exports,W={components:{PlexAccounts:X,PlexLibrary:F}},q=W,B=Object(i["a"])(q,_,g,!1,null,null,null),K=B.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("AppHeader"),n("router-link",{attrs:{to:"/channels"}},[e._v("Channels")]),e._v(" - \n  "),n("router-link",{attrs:{to:"/settings"}},[e._v("Settings")]),n("router-view")],1)},U=[],Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("PseudoTV")])},Z=[],ee={},te=ee,ne=Object(i["a"])(te,Y,Z,!1,null,null,null),re=ne.exports,ce={components:{AppHeader:re}},ue=ce,oe=Object(i["a"])(ue,Q,U,!1,null,null,null),ae=oe.exports;r["a"].use(c["a"]);var se=[{path:"*",redirect:"/channels"},{path:"/settings",component:x,children:[{path:"plex",component:K}]},{path:"/channels",component:p}],ie=new c["a"]({routes:se});new r["a"]({el:"#app",router:ie,render:function(e){return e(ae)}})}});
//# sourceMappingURL=app.3500c8fd.js.map